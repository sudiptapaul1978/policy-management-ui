<span class="registration-page">
<section *ngIf="loading">
<div class="row">
  <div class="col-sm-10 col-sm-offset-2">
    <h3>Customer Information</h3>
  </div>
</div>
<form class="registration-form" (ngSubmit)="saveUserDetails()" #userForm="ngForm">
  <div class="form-group row">
    <div class="col-sm-2 col-sm-offset-1">
      First Name<span class="glyphicon glyphicon-asterisk"></span>
    </div>
    <div class="col-sm-2">
      <input type="text" class="form-control" name="firstName" required [(ngModel)]="user.firstName"
             #firstName="ngModel" />
    </div>
    <div class="col-sm-4" [hidden]="firstName.valid || firstName.pristine" class="error">
      First Name is required
    </div>
  </div>
  <div class="form-group row">
    <div class="col-sm-2 col-sm-offset-1">
      Last Name<span class="glyphicon glyphicon-asterisk"></span>
    </div>
    <div class="col-sm-2">
      <input type="text" class="form-control" name="lastName" required [(ngModel)]="user.lastName" #lastName="ngModel" />
    </div>
    <div class="col-sm-4" [hidden]="lastName.valid || lastName.pristine" class="error">
      Last Name is required
    </div>
  </div>
  <div class="form-group row">
    <div class="col-sm-2 col-sm-offset-1">
      Date Of Birth<span class="glyphicon glyphicon-asterisk"></span>
    </div>
    <div class="col-sm-2">
      <!--<input type="date" class="form-control" name="dateOfBirth" [(ngModel)]="user.dateOfBirth" #dateOfBirth="ngModel" />-->
      <my-date-picker name="dateOfBirth" [options]="myDatePickerOptions" required [(ngModel)]="user.dateOfBirth" #dateOfBirth="ngModel"></my-date-picker>
    </div>
    <div class="col-sm-4" [hidden]="dateOfBirth.valid || dateOfBirth.pristine" class="error">
       Date Of Birth is required
    </div>
  </div>
  <div class="form-group row">
    <div class="col-sm-2 col-sm-offset-1">
      Address<span class="glyphicon glyphicon-asterisk"></span>
    </div>
    <div class="col-sm-2">
      <input type="text" class="form-control" name="address" required [(ngModel)]="user.address" #address="ngModel" />
    </div>
    <div class="col-sm-4" [hidden]="address.valid || address.pristine" class="error">
      Address is required
    </div>
  </div>
  <div class="form-group row">
    <div class="col-sm-2 col-sm-offset-1">
      Contact No<span class="glyphicon glyphicon-asterisk"></span>
    </div>
    <div class="col-sm-2">
      <input type="text" pattern="[0-9]*" class="form-control" name="contactNo" required [(ngModel)]="user.contactNo" #contactNo="ngModel" />
    </div>
    <div class="col-sm-4" *ngIf="contactNo.errors && (contactNo.dirty || contactNo.touched)" class="error">
     Contact No <span *ngIf="contactNo.errors.required">is required</span>
      <span *ngIf="contactNo.errors.pattern">must contain only numbers</span>
    </div>
  </div>
  <div class="form-group row">
    <div class="col-sm-2 col-sm-offset-1">
      Email Address<span class="glyphicon glyphicon-asterisk"></span>
    </div>
    <div class="col-sm-2">
      <input type="email" class="form-control" name="email"
             pattern="[0-9 a-z A-Z_.@]*"
             required [(ngModel)]="user.emailAddress" #emailAddress="ngModel" />
    </div>
    <div class="col-sm-4" *ngIf="emailAddress.errors && (emailAddress.dirty || emailAddress.touched)" class="error">
      <span *ngIf="emailAddress.errors.required">Email Address  is required</span>
      <span *ngIf="emailAddress.errors.pattern">Only underscore(_) dot(.) and (@) allowed as special characters </span>
    </div>
  </div>
  <div class="form-group row">
    <div class="col-sm-2 col-sm-offset-1">
      Password<span class="glyphicon glyphicon-asterisk"></span>
    </div>
    <div class="col-sm-2">
      <input type="password" class="form-control" name="password" required [(ngModel)]="user.password" #password="ngModel" />
    </div>
    <div class="col-sm-4" [hidden]="password.valid || password.pristine" class="error">
      Password is required
    </div>
  </div>
  <div class="form-group row">
    <div class="col-sm-2 col-sm-offset-1">
      Confirm Password<span class="glyphicon glyphicon-asterisk"></span>
    </div>
    <div class="col-sm-2">
      <input type="password" class="form-control" name="confirmPassword" [appMatch]="user.password" required [(ngModel)]="user.confirmPassword" #confirmPassword="ngModel" />
    </div>
    <!--<div class="col-sm-4" [hidden]="confirmPassword.valid || confirmPassword.pristine" class="error">
      Confirm Password is required
    </div>-->
    <div class="col-sm-4" *ngIf="confirmPassword.errors && (confirmPassword.dirty || confirmPassword.touched)" class="error">
      <span [hidden]="!confirmPassword.errors.required" >
            Confirm Password  is required
      </span>
      <span [hidden]="!confirmPassword.errors.appMatch || confirmPassword.errors.required" >
        Confirm Password and Password must match
      </span>
    </div>
  </div>
  <div class="form-group row">
    <div class="col-sm-2 col-sm-offset-1">
      <button class="btn btn-primary" (click)="resetUserForm()" type="reset" >Reset</button>
    </div>
    <div class="col-sm-2">
      <button class="btn btn-primary" [disabled]="!userForm.form.valid" type="submit">Submit</button>
    </div>
  </div>
</form>
</section>
<section *ngIf="!loading">
  <section *ngIf="userName">Login with the User ID: {{userName}} and provided password.</section>
  <section *ngIf="!userName"><div class="error">Error registering user.</div></section>
</section>
</span>
